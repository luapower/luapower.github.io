<!DOCTYPE html>
<html class="main">
	<head>
		<meta charset='utf-8'>
		<title> tuple   - real tuples </title>
		<script src="templates/jquery.js"></script>
		<script src="templates/jquery-cookie.js"></script>
		<script src="templates/strftime.js"></script>
		<script src="templates/main.js"></script>
		<link rel="stylesheet" type="text/css" href="templates/reset.css" />
		<link rel="stylesheet" type="text/css" href="templates/hack.css" />
		<div id="lights_css"></div>
		<script>
			lights()
		</script>
	</head>
	<body>
		<header>
			<div class="container">
				<div class="btn-container btn-lights-container">
					<a href="#" class="btn btn-lights" id="lights">lights</a>
				</div>
				<div class="btn-container btn-home-container">
					<a href="lua-files.html" class="btn btn-home">lua-files</a>
				</div>
				<table id="header_table">
					<tr>
						<td style="vertical-align: middle;" width="100%">
							<h1> tuple </h1>
							<h2> real tuples </h2>
						</td>
						<td style="vertical-align: middle;" align="right" style="height: 150px">
															<table><tr><td>
								<a href="https://github.com/capr/tuple" class="btn btn-rightside btn-github"><span class="icon"></span>View on GitHub</a>
								</td></tr><tr><td>
								<a href="https://github.com/capr/tuple/tarball/master" class="btn btn-rightside">Download as .tar.gz</a>
								</td></tr><tr><td>
								<a href="https://github.com/capr/tuple/zipball/master" class="btn btn-rightside">Download as .zip</a>
								</td></tr></table>
													</td>
					</tr>
				</table>
				<div class="btn-container btn-discuss-container">
					<a href="https://github.com/capr/tuple/issues/new" target="_blank" class="btn btn-rightside btn-discuss"><span class="icon"></span>Discuss</a>
				</div>
			</div>
		</header>
		<div class="container">
			<div class="toc_container">
				<iframe src="toc.html" scrolling="no" onload="resize_iframe(this)"></iframe>
			</div>
			<section class="doc">
				<p>v1.0 | Lua 5.1, Lua 5.2, LuaJIT 2</p>
<h2 id="local-tuple-requiretuple"><code>local tuple = require'tuple'</code></h2>
<p>Real tuples are immutable lists that can be used as table keys because they have value semantics, i.e. the tuple constructor returns the same identity for the exact same list of identities. If you don't need this property, [vararg vararg.pack()] is a faster and more memory efficient way to store small lists of values.</p>
<h2 id="tuplee1...---t"><code>tuple(e1,...) -&gt; t</code></h2>
<p>Create or find a tuple given a list of elements. Elements can be anything, including nil and <code>NaN</code>.</p>
<h2 id="t---e1..."><code>t() -&gt; e1,...</code></h2>
<p>Access the elements of a tuple.</p>
<p><em>Example:</em> <sub>~</sub>{.lua} local tuple = require'tuple'</p>
<p>local tup = tuple('a',0/0,2,nil) local t = {[tup] = 'here'} assert(t[tuple('a',0/0,2,nil)] == 'here') assert(t[tuple('a',0/0,2)] == nil) print(tup()) &gt; a nan 2 nil <sub>~</sub></p>
<p><em><em>Implementation note</em>: all the tuple elements of all the tuples created with this function are indexed internally with a global weak hash tree. This means that creating a tuple takes N hash lookups and M table creations, where N+M is the number of elements of the tuple. Lookup time depends on how dense the tree is on the search path, which depends on how many existing tuples share a first sequence of elements with the tuple being created. In particular, creating tuples out of all permutations of a certain set of values hits the worst case for hash lookup time, but creates the minimum amount of tables relative to the number of tuples.</em></p>
			</section>
		</div>
		<div class="container">
			<footer>
				<span class="faint">cosmin.apreutesei@gmail.com | <a href="http://unlicense.org/">public domain</a></span>
			</footer>
		</div>
	</body>
</html>
